‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶Ø‡¶º‡¶á ‚Äî ‡¶Ü‡¶Æ‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ `memberships` ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤‡¶ü‡¶ø‡¶ï‡ßá **‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶æ‡¶ô‡ßç‡¶ó, ‡¶™‡ßç‡¶∞‡¶´‡ßá‡¶∂‡¶®‡¶æ‡¶≤ ‡¶è‡¶¨‡¶Ç ‡¶ú‡¶ø‡¶Æ ‡¶ï‡ßç‡¶≤‡¶æ‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞-‡¶∞‡¶ø‡¶ö** ‡¶ï‡¶∞‡ßá ‡¶∏‡¶æ‡¶ú‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡¶ø‡¶ö‡ßç‡¶õ‡¶ø, ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶¨‡¶ø‡¶≤‡¶ø‡¶Ç, ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶ü‡¶æ‡¶á‡¶™, ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü, ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏, ‡¶∞‡¶ø‡¶®‡¶ø‡¶â‡¶Ø‡¶º‡¶æ‡¶≤, ‡¶®‡ßã‡¶ü ‡¶è‡¶¨‡¶Ç ‡¶Ö‡¶°‡¶ø‡¶ü ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç ‡¶∏‡¶¨ ‡¶ï‡¶≠‡¶æ‡¶∞ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§

```sql
-- ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤: memberships
-- ‡¶â‡¶¶‡ßç‡¶¶‡ßá‡¶∂‡ßç‡¶Ø: ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶ï‡ßç‡¶≤‡¶æ‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶∂‡¶ø‡¶™ ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶®, ‡¶´‡¶ø, ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏, ‡¶∞‡¶ø‡¶®‡¶ø‡¶â‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶è‡¶¨‡¶Ç ‡¶¨‡ßá‡¶®‡¶ø‡¶´‡¶ø‡¶ü‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£
CREATE TABLE memberships (
    membership_id BIGINT AUTO_INCREMENT PRIMARY KEY, -- ‡¶á‡¶â‡¶®‡¶ø‡¶ï ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶∂‡¶ø‡¶™ ‡¶Ü‡¶á‡¶°‡¶ø
    client_id BIGINT NOT NULL, -- ‡¶ï‡ßã‡¶® ‡¶ï‡ßç‡¶≤‡¶æ‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶∂‡¶ø‡¶™ (clients ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶∏)
    
    plan_name VARCHAR(100) NOT NULL, -- ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ (Basic, Premium, VIP ‡¶á‡¶§‡ßç‡¶Ø‡¶æ‡¶¶‡¶ø)
    plan_type ENUM('monthly', 'quarterly', 'half-yearly', 'yearly', 'custom') NOT NULL DEFAULT 'monthly', -- ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶ü‡¶æ‡¶á‡¶™
    start_date DATE NOT NULL, -- ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶∂‡¶ø‡¶™ ‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ
    end_date DATE NOT NULL, -- ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶∂‡¶ø‡¶™ ‡¶∂‡ßá‡¶∑ ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ
    renewal_date DATE DEFAULT NULL, -- ‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶∞‡¶ø‡¶®‡¶ø‡¶â‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ
    
    monthly_fee DECIMAL(10, 2) DEFAULT 0.00, -- ‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï ‡¶´‡¶ø
    trainer_fee DECIMAL(10, 2) DEFAULT 0.00, -- ‡¶ü‡ßç‡¶∞‡ßá‡¶á‡¶®‡¶æ‡¶∞ ‡¶´‡¶ø
    supplement_fee DECIMAL(10, 2) DEFAULT 0.00, -- ‡¶∏‡¶æ‡¶™‡ßç‡¶≤‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶¨‡¶æ ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶´‡¶ø
    discount_amount DECIMAL(10, 2) DEFAULT 0.00, -- ‡¶°‡¶ø‡¶∏‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£
    
    -- ‡¶Æ‡ßã‡¶ü ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ï‡ßÅ‡¶≤‡ßá‡¶∂‡¶®
    total_amount DECIMAL(10, 2) GENERATED ALWAYS AS (
        (monthly_fee + trainer_fee + supplement_fee) - discount_amount
    ) STORED, -- ‡¶´‡¶æ‡¶á‡¶®‡¶æ‡¶≤ ‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£
    
    status ENUM('active', 'inactive', 'paused', 'expired') DEFAULT 'active', -- ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶∂‡¶ø‡¶™ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏
    auto_renew BOOLEAN DEFAULT FALSE, -- ‡¶Ö‡¶ü‡ßã ‡¶∞‡¶ø‡¶®‡¶ø‡¶â‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ï‡¶ø‡¶®‡¶æ
    notes TEXT DEFAULT NULL, -- ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶®‡ßã‡¶ü ‡¶¨‡¶æ ‡¶¨‡ßá‡¶®‡¶ø‡¶´‡¶ø‡¶ü‡ßá‡¶∞ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£
    
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, -- ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶° ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßü
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, -- ‡¶∏‡¶∞‡ßç‡¶¨‡¶∂‡ßá‡¶∑ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßü
    
    -- ‡¶°‡ßá‡¶ü‡¶æ ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶∂‡¶®
    CONSTRAINT chk_fees_non_negative CHECK (
        monthly_fee >= 0
        AND trainer_fee >= 0
        AND supplement_fee >= 0
        AND discount_amount >= 0
    ),
    CONSTRAINT chk_valid_dates CHECK (end_date >= start_date),
    
    -- ‡¶´‡¶∞‡ßá‡¶® ‡¶ï‡¶ø: ‡¶ï‡ßç‡¶≤‡¶æ‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶π‡¶≤‡ßá ‡¶è‡¶á ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶∂‡¶ø‡¶™‡¶ì ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶π‡¶¨‡ßá
    FOREIGN KEY (client_id) REFERENCES clients (client_id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- ‡¶™‡¶æ‡¶∞‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏ ‡¶á‡¶®‡¶°‡ßá‡¶ï‡ßç‡¶∏
CREATE INDEX idx_memberships_client_id ON memberships (client_id);
CREATE INDEX idx_memberships_status ON memberships (status);
CREATE INDEX idx_memberships_dates ON memberships (start_date, end_date);

-- ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£ ‡¶°‡ßá‡¶ü‡¶æ ‡¶á‡¶®‡¶∏‡¶æ‡¶∞‡ßç‡¶ü
INSERT INTO memberships (
    client_id, plan_name, plan_type, start_date, end_date, renewal_date,
    monthly_fee, trainer_fee, supplement_fee, discount_amount,
    status, auto_renew, notes
) VALUES (
    101, 'Premium Plan', 'monthly', '2025-08-01', '2025-08-31', '2025-09-01',
    2000.00, 500.00, 800.00, 300.00,
    'active', TRUE, 'Includes personal trainer & weekend yoga sessions'
);

-- ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£ ‡¶ï‡ßÅ‡ßü‡ßá‡¶∞‡¶ø
-- 1) ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶∂‡¶ø‡¶™‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ
SELECT * FROM memberships WHERE status = 'active' ORDER BY end_date ASC;

-- 2) ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶ï‡ßç‡¶≤‡¶æ‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶∏‡¶¨ ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶∂‡¶ø‡¶™
SELECT * FROM memberships WHERE client_id = 101 ORDER BY start_date DESC;

-- 3) ‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶ ‡¶â‡¶§‡ßç‡¶§‡ßÄ‡¶∞‡ßç‡¶£ ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶∂‡¶ø‡¶™
SELECT * FROM memberships WHERE end_date < CURDATE() AND status != 'expired';

-- 4) ‡¶Æ‡ßã‡¶ü ‡¶Ü‡¶Ø‡¶º ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨ (‡¶´‡¶æ‡¶á‡¶®‡¶æ‡¶≤ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£)
SELECT SUM(total_amount) AS total_revenue FROM memberships WHERE status = 'active';
```

üí° **‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø‡ßü‡¶æ:**

1. `pause_start` ‡¶è‡¶¨‡¶Ç `pause_end` ‡¶ï‡¶≤‡¶æ‡¶Æ ‚Äî ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶∂‡¶ø‡¶™ ‡¶π‡ßã‡¶≤‡ßç‡¶°/‡¶´‡ßç‡¶∞‡¶ø‡¶ú ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡•§
2. `membership_type_id` ‚Äî ‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶ß‡¶∞‡¶®‡ßá‡¶∞ ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤ (‡¶Ø‡ßá‡¶Æ‡¶® group class, personal training, combo)‡•§
3. `payment_status` ENUM ‡¶ï‡¶≤‡¶æ‡¶Æ ‚Äî ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶∂‡¶ø‡¶™‡ßá‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ï‡¶ø‡¶Ç‡•§
4. `invoice_url` ‚Äî ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶∂‡¶ø‡¶™‡ßá‡¶∞ PDF ‡¶á‡¶®‡¶≠‡¶Ø‡¶º‡ßá‡¶∏ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£‡•§

‡¶Ü‡¶™‡¶®‡¶ø ‡¶ö‡¶æ‡¶á‡¶≤‡ßá ‡¶Ü‡¶Æ‡¶ø ‡¶è‡¶ñ‡¶®‡¶á ‡¶è‡¶á **memberships + billing\_info + subscriptions + clients** ‡¶∏‡¶¨ ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤‡ßá‡¶∞ **‡¶™‡ßÅ‡¶∞‡ßã ERD + JOIN ‡¶ï‡ßÅ‡ßü‡ßá‡¶∞‡¶ø ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£** ‡¶¨‡¶æ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶ø, ‡¶Ø‡¶æ‡¶§‡ßá ‡¶ú‡¶ø‡¶Æ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶™‡ßÅ‡¶∞‡ßã‡¶™‡ßÅ‡¶∞‡¶ø ‡¶∞‡¶ø‡¶≤‡ßá‡¶∂‡¶®‡¶æ‡¶≤ ‡¶ì ‡¶ï‡¶≠‡¶æ‡¶∞‡¶° ‡¶π‡¶Ø‡¶º‡•§

‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶∏‡ßá‡¶ü‡¶æ ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶ö‡¶æ‡¶®?
